Warning: 'set logging on', an alias for the command 'set logging enabled', is deprecated.
Use 'set logging enabled on'.

Reading symbols from /data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java...
Function "universe_init" not defined.
Breakpoint 1 (universe_init) pending.
Function "Universe::initialize_heap" not defined.
Breakpoint 2 (Universe::initialize_heap) pending.
Function "G1CollectedHeap::initialize" not defined.
Breakpoint 3 (G1CollectedHeap::initialize) pending.
Function "Universe::reserve_heap" not defined.
Breakpoint 4 (Universe::reserve_heap) pending.
Function "JavaClasses::compute_hard_coded_offsets" not defined.
Breakpoint 5 (JavaClasses::compute_hard_coded_offsets) pending.
===== 启动JVM并运行到universe_init() =====
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".
----_JAVA_LAUNCHER_DEBUG----
Launcher state:
	First application arg index: 9
	debug:on
	javargs:off
	program name:java
	launcher name:openjdk
	javaw:off
	fullversion:11.0.17-internal+0-adhoc.root.openjdk11-core
Java args:
Command line args:
argv[0] = /data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/bin/java
argv[1] = -Xms8g
argv[2] = -Xmx8g
argv[3] = -XX:+UseG1GC
argv[4] = -XX:-UseLargePages
argv[5] = -XX:+PrintGCDetails
argv[6] = -XX:+UnlockDiagnosticVMOptions
argv[7] = -XX:+LogVMOutput
argv[8] = HelloWorld
JRE path is /data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk
jvm.cfg[0] = ->-server<-
jvm.cfg[1] = ->-client<-
64 micro seconds to parse jvm.cfg
Default VM: server
Does `/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib/server/libjvm.so' exist ... yes.
mustsetenv: FALSE
JVM path is /data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib/server/libjvm.so
975944 micro seconds to LoadJavaVM
[New Thread 0x7ffff780b6c0 (LWP 1230541)]
JavaVM args:
    version 0x00010002, ignoreUnrecognized is JNI_FALSE, nOptions is 12
    option[ 0] = '-Dsun.java.launcher.diag=true'
    option[ 1] = '-Djava.class.path=/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:/data/workspace/openjdk11-core/build/linux-x86_64-normal-server-slowdebug/jdk/lib:'
    option[ 2] = '-Xms8g'
    option[ 3] = '-Xmx8g'
    option[ 4] = '-XX:+UseG1GC'
    option[ 5] = '-XX:-UseLargePages'
    option[ 6] = '-XX:+PrintGCDetails'
    option[ 7] = '-XX:+UnlockDiagnosticVMOptions'
    option[ 8] = '-XX:+LogVMOutput'
    option[ 9] = '-Dsun.java.command=HelloWorld'
    option[10] = '-Dsun.java.launcher=SUN_STANDARD'
    option[11] = '-Dsun.java.launcher.pid=1230531'
[0.041s][warning][gc] -XX:+PrintGCDetails is deprecated. Will use -Xlog:gc* instead.
[Switching to Thread 0x7ffff780b6c0 (LWP 1230541)]

Thread 2 "java" hit Breakpoint 1.2, universe_init () at /data/workspace/openjdk11-core/src/hotspot/share/memory/universe.cpp:683
683	  assert(!Universe::_fully_initialized, "called after initialize_vtables");
===== 1. universe_init()函数入口分析 =====
函数地址:$1 = (jint (*)(void)) 0x7ffff695f491 <universe_init()>
当前栈帧:#0  universe_init () at /data/workspace/openjdk11-core/src/hotspot/share/memory/universe.cpp:683
#1  0x00007ffff61efdb5 in init_globals () at /data/workspace/openjdk11-core/src/hotspot/share/runtime/init.cpp:119
#2  0x00007ffff692b1b6 in Threads::create_vm (args=0x7ffff780add0, canTryAgain=0x7ffff780acc3) at /data/workspace/openjdk11-core/src/hotspot/share/runtime/thread.cpp:4060
===== 2. 分析JavaClasses::compute_hard_coded_offsets() =====

Thread 2 "java" hit Breakpoint 5, JavaClasses::compute_hard_coded_offsets () at /data/workspace/openjdk11-core/src/hotspot/share/classfile/javaClasses.cpp:4465
4465	  java_lang_boxing_object::value_offset      = member_offset(java_lang_boxing_object::hc_value_offset);
硬编码偏移量计算前的状态:$2 = 0
$3 = 0
$4 = 0
4466	  java_lang_boxing_object::long_value_offset = align_up(member_offset(java_lang_boxing_object::hc_value_offset), BytesPerLong);
硬编码偏移量计算后的状态:$5 = 0
$6 = 0
$7 = 0
===== 3. 分析Universe::initialize_heap()调用 =====

Thread 2 "java" hit Breakpoint 2, Universe::initialize_heap () at /data/workspace/openjdk11-core/src/hotspot/share/memory/universe.cpp:805
805	jint Universe::initialize_heap() {
堆初始化前的Universe状态:$8 = (CollectedHeap *) 0x0
/data/workspace/openjdk11-core/md/universe_init_md/universe_int_2_md/universe_init_8gb_g1gc_debug.gdb:50: Error in sourced command file:
There is no field named _heap_base
Missing separate debuginfos, use: dnf debuginfo-install glibc-2.38-45.tl4.x86_64 libgcc-12.3.1.7-1.tl4.x86_64 libstdc++-12.3.1.7-1.tl4.x86_64 zlib-1.2.13-9.tl4.x86_64
(gdb) 